<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="851px" preserveAspectRatio="none" style="width:2296px;height:851px;background:#FFFFFF;" version="1.1" viewBox="0 0 2296 851" width="2296px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="700.9375" style="stroke:#181818;stroke-width:1.0;" width="10" x="266" y="87.5703"/><rect fill="#FFFFFF" height="700.9375" style="stroke:#181818;stroke-width:1.0;" width="10" x="266" y="87.5703"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="517" y="117.9219"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="657.5" y="178.2734"/><rect fill="#FFFFFF" height="123.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="840" y="238.625"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1054.5" y="294.3281"/><rect fill="#FFFFFF" height="184.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="1054.5" y="392.3828"/><rect fill="#FFFFFF" height="123.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1244" y="422.7344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1482" y="478.4375"/><rect fill="#FFFFFF" height="181.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1585.5" y="606.8438"/><rect height="79.0547" style="stroke:#000000;stroke-width:1.5;fill:none;" width="582" x="731" y="253.625"/><rect height="79.0547" style="stroke:#000000;stroke-width:1.5;fill:none;" width="507" x="1160" y="437.7344"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="266" x2="266" y1="55.2188" y2="797.5078"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="522" x2="522" y1="55.2188" y2="797.5078"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="662" x2="662" y1="55.2188" y2="797.5078"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="845" x2="845" y1="55.2188" y2="797.5078"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1059" x2="1059" y1="55.2188" y2="797.5078"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1249" x2="1249" y1="55.2188" y2="797.5078"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1487" x2="1487" y1="55.2188" y2="797.5078"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1590" x2="1590" y1="55.2188" y2="797.5078"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2143.5" x2="2143.5" y1="646.1484" y2="797.5078"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="280" x="126" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="133" y="44.1426">:RecordAdministrationOfVaccineController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="280" x="126" y="796.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="133" y="818.041">:RecordAdministrationOfVaccineController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="460" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="467" y="44.1426">vaccine : Vaccine</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="460" y="796.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="467" y="818.041">vaccine : Vaccine</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="594" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="601" y="44.1426">snsUser : SNS User</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="594" y="796.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="601" y="818.041">snsUser : SNS User</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="208" x="741" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="748" y="44.1426">admpStore : AdmProcessStore</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="208" x="741" y="796.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="748" y="818.041">admpStore : AdmProcessStore</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201" x="959" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="966" y="44.1426">admp : AdministrationProcess</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201" x="959" y="796.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="966" y="818.041">admp : AdministrationProcess</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="1170" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="1177" y="44.1426">doseStore : DoseStore</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="1170" y="796.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="1177" y="818.041">doseStore : DoseStore</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="1442" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1449" y="44.1426">dose : Dose</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="1442" y="796.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1449" y="818.041">dose : Dose</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="1542" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1551.5" y="26.5332">appointment</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="1549" y="44.1426">:Appointment</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="1542" y="796.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1551.5" y="818.041">appointment</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="1549" y="835.6504">:Appointment</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="294" x="1996.5" y="796.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280" x="2003.5" y="818.041">vaccineAdministration:VaccineAdministration</text><rect fill="#FFFFFF" height="700.9375" style="stroke:#181818;stroke-width:1.0;" width="10" x="266" y="87.5703"/><rect fill="#FFFFFF" height="700.9375" style="stroke:#181818;stroke-width:1.0;" width="10" x="266" y="87.5703"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="517" y="117.9219"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="657.5" y="178.2734"/><rect fill="#FFFFFF" height="123.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="840" y="238.625"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1054.5" y="294.3281"/><rect fill="#FFFFFF" height="184.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="1054.5" y="392.3828"/><rect fill="#FFFFFF" height="123.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1244" y="422.7344"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1482" y="478.4375"/><rect fill="#FFFFFF" height="181.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1585.5" y="606.8438"/><ellipse cx="7.5" cy="86.8203" fill="none" rx="4" ry="4" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="249,83.5703,259,87.5703,249,91.5703,253,87.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="12" x2="255" y1="87.5703" y2="87.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="15" y="82.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="26" y="82.7139">saveVaccineAdministration(lotNumber)</text><polygon fill="#181818" points="505,113.9219,515,117.9219,505,121.9219,509,117.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="276" x2="511" y1="117.9219" y2="117.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="283" y="113.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="294" y="113.0654">admpStore = getAdmProcessStore()</text><polygon fill="#181818" points="645.5,174.2734,655.5,178.2734,645.5,182.2734,649.5,178.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="276" x2="651.5" y1="178.2734" y2="178.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="283" y="173.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="294" y="173.417">age=getAge()</text><polygon fill="#181818" points="828,234.625,838,238.625,828,242.625,832,238.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="276" x2="834" y1="238.625" y2="238.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="283" y="233.7686">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="294" y="233.7686">admp = findAdmProcess(age)</text><path d="M731,253.625 L804,253.625 L804,261.9766 L794,271.9766 L731,271.9766 L731,253.625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="582" x="731" y="253.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="746" y="268.1201">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="489" x="819" y="267.0439">[For each AdministrationProcess in AdmProcessStore until checkAdmpAge(age) is true]</text><polygon fill="#181818" points="1042.5,290.3281,1052.5,294.3281,1042.5,298.3281,1046.5,294.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="850" x2="1048.5" y1="294.3281" y2="294.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="857" y="289.4717">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="868" y="289.4717">checkAdmpAge(age)</text><polygon fill="#181818" points="861,320.6797,851,324.6797,861,328.6797,857,324.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="855" x2="1058.5" y1="324.6797" y2="324.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="867" y="319.8232">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="878" y="319.8232">true/false</text><polygon fill="#181818" points="287,358.0313,277,362.0313,287,366.0313,283,362.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="281" x2="844" y1="362.0313" y2="362.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="293" y="357.1748">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="304" y="357.1748">admp</text><polygon fill="#181818" points="1042.5,388.3828,1052.5,392.3828,1042.5,396.3828,1046.5,392.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="276" x2="1048.5" y1="392.3828" y2="392.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="283" y="387.5264">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="294" y="387.5264">dose = findDose(currentVaccineDose+1)</text><polygon fill="#181818" points="1232,418.7344,1242,422.7344,1232,426.7344,1236,422.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1064.5" x2="1238" y1="422.7344" y2="422.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1071.5" y="417.8779">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="1082.5" y="417.8779">findDose(doseNumber)</text><path d="M1160,437.7344 L1233,437.7344 L1233,446.0859 L1223,456.0859 L1160,456.0859 L1160,437.7344 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="507" x="1160" y="437.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1175" y="452.2295">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="414" x="1248" y="451.1533">[For each dose in doseStore until checkDoseNumber(doseNumber) is true]</text><polygon fill="#181818" points="1470,474.4375,1480,478.4375,1470,482.4375,1474,478.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1254" x2="1476" y1="478.4375" y2="478.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1261" y="473.5811">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="1279" y="473.5811">checkDoseNumber(doseNumber)</text><polygon fill="#181818" points="1265,504.7891,1255,508.7891,1265,512.7891,1261,508.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1259" x2="1486" y1="508.7891" y2="508.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1271" y="503.9326">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1289" y="503.9326">true/false</text><polygon fill="#181818" points="1075.5,542.1406,1065.5,546.1406,1075.5,550.1406,1071.5,546.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1069.5" x2="1248" y1="546.1406" y2="546.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1081.5" y="541.2842">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="1099.5" y="541.2842">dose</text><polygon fill="#181818" points="287,572.4922,277,576.4922,287,580.4922,283,576.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="281" x2="1058.5" y1="576.4922" y2="576.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="293" y="571.6357">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="311" y="571.6357">dose</text><polygon fill="#181818" points="1573.5,602.8438,1583.5,606.8438,1573.5,610.8438,1577.5,606.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="276" x2="1579.5" y1="606.8438" y2="606.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="283" y="601.9873">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="474" x="301" y="601.9873">addVaccineAdministration(lotNumber, dateOfAdministration, vaccine, admp, dose)</text><polygon fill="#181818" points="1984.5,633.1953,1994.5,637.1953,1984.5,641.1953,1988.5,637.1953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1595.5" x2="1990.5" y1="637.1953" y2="637.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1602.5" y="632.3389">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="359" x="1620.5" y="632.3389">create(lotNumber, dateOfAdministration, vaccine, admp, dose)</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="294" x="1996.5" y="614.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280" x="2003.5" y="636.377">vaccineAdministration:VaccineAdministration</text><line style="stroke:#181818;stroke-width:1.0;" x1="1595.5" x2="1637.5" y1="679.8047" y2="679.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="1637.5" x2="1637.5" y1="679.8047" y2="692.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="1596.5" x2="1637.5" y1="692.8047" y2="692.8047"/><polygon fill="#181818" points="1606.5,688.8047,1596.5,692.8047,1606.5,696.8047,1602.5,692.8047" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1602.5" y="674.9482">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="1620.5" y="674.9482">setVaccineAdministration(vaccineAdministration)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1595.5" x2="1637.5" y1="723.1563" y2="723.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="1637.5" x2="1637.5" y1="723.1563" y2="736.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="1596.5" x2="1637.5" y1="736.1563" y2="736.1563"/><polygon fill="#181818" points="1606.5,732.1563,1596.5,736.1563,1606.5,740.1563,1602.5,736.1563" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1602.5" y="718.2998">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="1620.5" y="718.2998">setStateDone()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1595.5" x2="1637.5" y1="766.5078" y2="766.5078"/><line style="stroke:#181818;stroke-width:1.0;" x1="1637.5" x2="1637.5" y1="766.5078" y2="779.5078"/><line style="stroke:#181818;stroke-width:1.0;" x1="1596.5" x2="1637.5" y1="779.5078" y2="779.5078"/><polygon fill="#181818" points="1606.5,775.5078,1596.5,779.5078,1606.5,783.5078,1602.5,779.5078" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1602.5" y="761.6514">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="1620.5" y="761.6514">setSNSUserLeaveTime(snsUserLeaveTime)</text><!--MD5=[973fe0803cbe589a7bdcf714e859f21a]
@startuml
autonumber

participant ":RecordAdministrationOfVaccineController" as CTRL
participant "vaccine : Vaccine" as VACCINE
participant "snsUser : SNS User" as SNSUSER
participant "admpStore : AdmProcessStore" as ADMPSTORE
participant "admp : AdministrationProcess" as ADMP
participant "doseStore : DoseStore" as DOSESTORE
participant "dose : Dose" as DOSE
participant "appointment\n:Appointment" as APPOINTMENT
participant "vaccineAdministration:VaccineAdministration" as VAdministration

[o-> CTRL : saveVaccineAdministration(lotNumber)
activate CTRL
activate CTRL
CTRL -> VACCINE: admpStore = getAdmProcessStore()
activate VACCINE
deactivate VACCINE
CTRL -> SNSUSER : age=getAge()
activate SNSUSER
deactivate SNSUSER
CTRL -> ADMPSTORE : admp = findAdmProcess(age)
activate ADMPSTORE
loop For each AdministrationProcess in AdmProcessStore until checkAdmpAge(age) is true
ADMPSTORE-> ADMP:checkAdmpAge(age)
activate ADMP
ADMP - -> ADMPSTORE:true/false
deactivate ADMP
end loop
ADMPSTORE - -> CTRL : admp
deactivate ADMPSTORE
CTRL -> ADMP : dose = findDose(currentVaccineDose+1)
activate ADMP
ADMP -> DOSESTORE : findDose(doseNumber)
activate DOSESTORE
loop For each dose in doseStore until checkDoseNumber(doseNumber) is true
DOSESTORE-> DOSE:checkDoseNumber(doseNumber)
activate DOSE
DOSE - -> DOSESTORE:true/false
deactivate DOSE
end loop
DOSESTORE - -> ADMP : dose
deactivate DOSESTORE
ADMP - -> CTRL : dose
deactivate ADMP
CTRL -> APPOINTMENT : addVaccineAdministration(lotNumber, dateOfAdministration, vaccine, admp, dose)
activate APPOINTMENT
APPOINTMENT - -> VAdministration **: create(lotNumber, dateOfAdministration, vaccine, admp, dose)
APPOINTMENT -> APPOINTMENT: setVaccineAdministration(vaccineAdministration)
APPOINTMENT -> APPOINTMENT: setStateDone()
APPOINTMENT -> APPOINTMENT: setSNSUserLeaveTime(snsUserLeaveTime)


@enduml

PlantUML version 1.2022.5(Sat Apr 30 11:55:52 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>